```markdown
# README.md - ุขููุฒุด ฺฉุงูู ุณุงุฎุช ูพุฑูฺฉุณ ุงุฎุชุตุงุต ู ุงุณูพุงูุณุฑ ุชูฺฏุฑุงู (MTProto Proxy)

> **ูุดุฏุงุฑ ููู**: ุงู ุขููุฒุด ุตุฑูุงู ุฌูุจู **ุขููุฒุด** ุฏุงุฑุฏ ู ุจุฑุง ุฏูุฑ ุฒุฏู ูุญุฏูุฏุชโูุง ูุงููู ุง ุงุณุชูุงุฏู ุบุฑูุฌุงุฒ ุชูุตู ููโุดูุฏ. ุงุณุชูุงุฏู ุงุฒ ูพุฑูฺฉุณ ุจุฑุง ูุนุงูุชโูุง ุบุฑูุงูููุ ููุถ ููุงูู ฺฉุดูุฑ ุดูุง ุง ุณุงุณุชโูุง ุชูฺฏุฑุงู ููฺฉู ุงุณุช ุนูุงูุจ ูุงููู ุฏุงุดุชู ุจุงุดุฏ.  
> **ูุณุฆููุช ฺฉุงูู ุงุณุชูุงุฏู ุงุฒ ุงู ุขููุฒุด ุจุฑ ุนูุฏู ุฎูุฏ ุดูุงุณุช.**

ุงู ูุณุชูุฏ ฺฉ ุฑุงูููุง **ฺฉุงููุ ฺฏุงูโุจูโฺฏุงู ู ุงุฎุชุตุงุต** ุจุฑุง ุฑุงูโุงูุฏุงุฒ ฺฉ **ูพุฑูฺฉุณ MTProto ุงุฎุชุตุงุต ุชูฺฏุฑุงู** (ููุฑุงู ุจุง ูุงุจูุช **ุงุณูพุงูุณุฑ** ุจุฑุง ููุงุด ุชุจูุบ ุฏุฑ ฺฉุงูุงูโูุง ุชูฺฏุฑุงู) ุงุณุช. ุงู ุขููุฒุด ุจุฑุง **ุณุฑูุฑูุง ูููฺฉุณ (ุงูุจููุชู 22.04/20.04 ุง ุฏุจุงู 11/12)** ุทุฑุงุญ ุดุฏู ู ุชูุงู ุฌุฒุฆุงุช ููุ ุงููุช ู ุจูููโุณุงุฒ ุฑุง ุดุงูู ูโุดูุฏ.

---

## ููุฑุณุช ูุทุงูุจ
1. [ูพุดโูุงุฒูุง](#ูพุดูุงุฒูุง)
2. [ูุตุจ ู ุฑุงูโุงูุฏุงุฒ MTProto Proxy](#ูุตุจ-ู-ุฑุงูุงูุฏุงุฒ-mtproto-proxy)
3. [ุงุฌุงุฏ ฺฉูุฏ ูุฎู (Secret)](#ุงุฌุงุฏ-ฺฉูุฏ-ูุฎู-secret)
4. [ุฑุงูโุงูุฏุงุฒ ุงุณูพุงูุณุฑ (Sponsor)](#ุฑุงูุงูุฏุงุฒ-ุงุณูพุงูุณุฑ-sponsor)
5. [ุจูููโุณุงุฒ ู ุงููุช](#ุจูููุณุงุฒ-ู-ุงููุช)
6. [ุงุชููุงุณูู ุจุง systemd](#ุงุชููุงุณูู-ุจุง-systemd)
7. [ูุงูุชูุฑูฺฏ ู ูุงฺฏโฺฏุฑ](#ูุงูุชูุฑูฺฏ-ู-ูุงฺฏฺฏุฑ)
8. [ุงุชุตุงู ุจู ูพุฑูฺฉุณ ุฏุฑ ุชูฺฏุฑุงู](#ุงุชุตุงู-ุจู-ูพุฑูฺฉุณ-ุฏุฑ-ุชูฺฏุฑุงู)
9. [ุญู ูุดฺฉูุงุช ุฑุงุฌ](#ุญู-ูุดฺฉูุงุช-ุฑุงุฌ)
10. [ูฺฉุงุช ูพุดุฑูุชู ู ุงุฎุชุตุงุต](#ูฺฉุงุช-ูพุดุฑูุชู-ู-ุงุฎุชุตุงุต)

---

## ูพุดโูุงุฒูุง

ูุจู ุงุฒ ุดุฑูุนุ ุจุงุฏ ููุงุฑุฏ ุฒุฑ ุฑุง ุขูุงุฏู ฺฉูุฏ:

| ููุฑุฏ | ุชูุถุญุงุช |
|------|---------|
| **ุณุฑูุฑ VPS** | ุญุฏุงูู 1 ูุณุชู CPUุ 1 ฺฏฺฏ ุฑูุ 10 ฺฏฺฏ ูุถุง ุฏุณฺฉ (ุชูุตู: 2 ูุณุชูุ 2 ฺฏฺฏ ุฑู) |
| **ุณุณุชู ุนุงูู** | Ubuntu 22.04/20.04 ุง Debian 11/12 |
| **ุฏุงููู ุง IP ุนููู** | ุจุฑุง ุงุชุตุงู ูพุงุฏุงุฑ (ุฏุงููู ุชูุตู ูโุดูุฏ) |
| **ุฏุณุชุฑุณ root** | ุจุฑุง ูุตุจ ูพฺฉุฌโูุง ู ุชูุธูุงุช ูุงุฑูุงู |
| **ุงุชุตุงู ุงูุชุฑูุช ูพุฑุณุฑุนุช** | ุญุฏุงูู 100 ูฺฏุงุจุช (ุจุฑุง ูพุดุชุจุงู ุงุฒ 100+ ฺฉุงุฑุจุฑ) |

> ุชูุตู: ุงุฒ ุงุฑุงุฆูโุฏููุฏฺฏุงู ูุซู **Hetzner, DigitalOcean, Vultr** ุงุณุชูุงุฏู ฺฉูุฏ.

---

## ูุตุจ ู ุฑุงูโุงูุฏุงุฒ MTProto Proxy

### 1. ุจูโุฑูุฒุฑุณุงู ุณุณุชู
```bash
sudo apt update && sudo apt upgrade -y
```

### 2. ูุตุจ ูุงุจุณุชฺฏโูุง
```bash
sudo apt install git curl build-essential libssl-dev zlib1g-dev -y
```

### 3. ฺฉููู ฺฉุฑุฏู ุณูุฑุณ ุฑุณู ุชูฺฏุฑุงู
```bash
cd /opt
sudo git clone https://github.com/TelegramMessenger/MTProxy.git
cd MTProxy
```

### 4. ฺฉุงููพุงู ูพุฑูฺู
```bash
sudo make
```
> ูพุณ ุงุฒ ุงุชูุงูุ ูุงู ุงุฌุฑุง ุฏุฑ ูุณุฑ `objs/bin/mtproto-proxy` ุงุฌุงุฏ ูโุดูุฏ.

---

## ุงุฌุงุฏ ฺฉูุฏ ูุฎู (Secret)

ูุฑ ูพุฑูฺฉุณ ูุงุฒ ุจู ฺฉ **ฺฉูุฏ 32 ุจุงุช (hex)** ุฏุงุฑุฏ.

```bash
# ุงุฌุงุฏ ฺฉูุฏ ุชุตุงุฏู
head -c 16 /dev/urandom | xxd -ps
```

ูุซุงู ุฎุฑูุฌ:
```
a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6
```

> ุงู ฺฉูุฏ ุฑุง **ุฐุฎุฑู ฺฉูุฏ** โ ุจุฑุง ุงุชุตุงู ฺฉุงุฑุจุฑุงู ูุงุฒู ุงุณุช.

---

## ุฑุงูโุงูุฏุงุฒ ูพุฑูฺฉุณ (ุจุฏูู ุงุณูพุงูุณุฑ)

```bash
sudo objs/bin/mtproto-proxy -u nobody -p 8888 -H 443 -S <YOUR_SECRET> --aes-pwd proxy-secret proxy-multi.conf -M 1
```

### ุชูุถุญุงุช ูพุงุฑุงูุชุฑูุง:
| ูพุงุฑุงูุชุฑ | ุชูุถุญ |
|--------|-------|
| `-u nobody` | ุงุฌุฑุง ูพุฑูฺฉุณ ุจุง ฺฉุงุฑุจุฑ ุบุฑุฑูุช |
| `-p 8888` | ูพูุฑุช ุฏุงุฎู (ุจุฑุง Prometheus) |
| `-H 443` | ูพูุฑุช ุฎุงุฑุฌ (443 ุงุณุชุงูุฏุงุฑุฏ HTTPS) |
| `-S <SECRET>` | ฺฉูุฏ ูุฎู 32 ฺฉุงุฑุงฺฉุชุฑ |
| `--aes-pwd` | ูุงูโูุง ุฑูุฒูฺฏุงุฑ (ุงููุช ุจุดุชุฑ) |
| `-M 1` | ุชุนุฏุงุฏ worker (1 ุจููู ุจุฑุง ุณุฑูุฑ ฺฉูฺฺฉ) |

---

## ุฑุงูโุงูุฏุงุฒ ุงุณูพุงูุณุฑ (Sponsor)

ุจุฑุง ููุงุด ุชุจูุบ ุฏุฑ ฺฉุงูุงูโูุง ุชูฺฏุฑุงู (ูุซู @proxy_sponsor_channel)ุ ุจุงุฏ **ฺฉุงูุงู ุงุณูพุงูุณุฑ** ุจุณุงุฒุฏ.

### ฺฏุงู ฑ: ุณุงุฎุช ฺฉุงูุงู ุงุณูพุงูุณุฑ
1. ุฏุฑ ุชูฺฏุฑุงู ฺฉ ฺฉุงูุงู ุฌุฏุฏ ุจุณุงุฒุฏ (ูุซูุงู: `@MyProxySponsor`)
2. ุขุฏ ฺฉุงูุงู ุฑุง ุงุฏุฏุงุดุช ฺฉูุฏ (ูุซูุงู: `sponsor_channel_test`)

### ฺฏุงู ฒ: ุงุฌุฑุง ูพุฑูฺฉุณ ุจุง ุงุณูพุงูุณุฑ
```bash
sudo objs/bin/mtproto-proxy \
  -u nobody \
  -p 8888 \
  -H 443 \
  -S <YOUR_SECRET> \
  --aes-pwd proxy-secret proxy-multi.conf \
  -M 1 \
  --sponsor sponsor_channel_test
```

> ุญุงูุง ููุช ฺฉุงุฑุจุฑ ุจู ูพุฑูฺฉุณ ุดูุง ูุตู ุดูุฏุ ฺฉุงูุงู ุดูุง ุจู ุนููุงู **ุงุณูพุงูุณุฑ** ููุงุด ุฏุงุฏู ูโุดูุฏ.

---

## ุจูููโุณุงุฒ ู ุงููุช

### ฑ. ุชูุธู ูุงุฑูุงู (UFW)
```bash
sudo apt install ufw -y
sudo ufw allow 443/tcp
sudo ufw allow 22/tcp
sudo ufw enable
```

### ฒ. ูุนุงูโุณุงุฒ NAT (ุจุฑุง ฺูุฏ IP)
ุงฺฏุฑ ฺูุฏู IP ุฏุงุฑุฏ:
```bash
sudo sysctl -w net.ipv4.ip_forward=1
echo "net.ipv4.ip_forward = 1" | sudo tee -a /etc/sysctl.conf
```

### ณ. ุงุณุชูุงุฏู ุงุฒ ฺูุฏ Secret (ฺูุฏ ฺฉุงุฑุจุฑ ููุฒูุงู)
ูุงู `proxy-multi.conf` ุจุณุงุฒุฏ:
```bash
echo "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6" > proxy-multi.conf
echo "b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6a1" >> proxy-multi.conf
```

ุณูพุณ ุงุฒ `--aes-pwd proxy-secret proxy-multi.conf` ุงุณุชูุงุฏู ฺฉูุฏ.

---

## ุงุชููุงุณูู ุจุง systemd

ูุงู ุณุฑูุณ ุจุณุงุฒุฏ:

```bash
sudo nano /etc/systemd/system/mtproxy.service
```

ูุญุชูุง:
```ini
[Unit]
Description=MTProto Proxy
After=network.target

[Service]
Type=simple
WorkingDirectory=/opt/MTProxy
ExecStart=/opt/MTProxy/objs/bin/mtproto-proxy -u nobody -p 8888 -H 443 -S a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6 --aes-pwd proxy-secret proxy-multi.conf -M 1 --sponsor sponsor_channel_test
Restart=always
RestartSec=5
User=root

[Install]
WantedBy=multi-user.target
```

ูุนุงูโุณุงุฒ:
```bash
sudo systemctl daemon-reexec
sudo systemctl enable mtproxy.service
sudo systemctl start mtproxy.service
```

ุจุฑุฑุณ ูุถุนุช:
```bash
sudo systemctl status mtproxy.service
```

---

## ูุงูุชูุฑูฺฏ ู ูุงฺฏโฺฏุฑ

### ฑ. ุขูุงุฑ ฺฉุงุฑุจุฑุงู (Prometheus)
ูุจ ุงูุชุฑูุณ ุฏุฑ ูพูุฑุช 8888:
```
http://YOUR_IP:8888/stats
```

### ฒ. ูุงฺฏโฺฏุฑ
ูุงฺฏโูุง ุฏุฑ `stderr` ููุงุด ุฏุงุฏู ูโุดููุฏ. ุจุฑุง ุฐุฎุฑู:
```bash
sudo journalctl -u mtproxy.service -f
```

---

## ุงุชุตุงู ุจู ูพุฑูฺฉุณ ุฏุฑ ุชูฺฏุฑุงู

### ููฺฉ ุงุชุตุงู (ุจุฑุง ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ):
```
tg://proxy?server=YOUR_IP&port=443&secret=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6
```

> ุฌุงฺฏุฒู ฺฉูุฏ `YOUR_IP` ุจุง IP ุณุฑูุฑ ู `secret` ุจุง ฺฉูุฏ ุฎูุฏุชุงู.

### ุฏุฑ ุชูฺฏุฑุงู:
1. ุชูุธูุงุช โ ุฏุงุฏู ู ุญุงูุธู โ ูพุฑูฺฉุณ
2. ุงูุฒูุฏู ูพุฑูฺฉุณ โ MTProto
3. ูุงุฑุฏ ฺฉุฑุฏู IPุ ูพูุฑุช (443)ุ ู Secret

---

## ุญู ูุดฺฉูุงุช ุฑุงุฌ

| ูุดฺฉู | ุฑุงูโุญู |
|------|--------|
| ูพุฑูฺฉุณ ูุตู ููโุดูุฏ | ูพูุฑุช 443 ุจุงุฒ ุจุงุดุฏุ ูุงุฑูุงู ฺฺฉ ุดูุฏุ IP ุนููู ุจุงุดุฏ |
| Secret ฺฉุงุฑ ููโฺฉูุฏ | ุฏููุงู 32 ฺฉุงุฑุงฺฉุชุฑ hex ุจุงุดุฏ |
| ุงุณูพุงูุณุฑ ููุงุด ุฏุงุฏู ููโุดูุฏ | ฺฉุงูุงู ุนููู ุจุงุดุฏุ ุขุฏ ุฏุฑุณุช ูุงุฑุฏ ุดูุฏ |
| ูุตุฑู ุฑู ุจุงูุง | ุชุนุฏุงุฏ worker ุฑุง ฺฉุงูุด ุฏูุฏ (`-M 1`) |

---

## ูฺฉุงุช ูพุดุฑูุชู ู ุงุฎุชุตุงุต

### ฑ. ุงุณุชูุงุฏู ุงุฒ ุฏุงููู + SSL (ุงุฎุชุงุฑ ุงูุง ุญุฑููโุง)
ุงุฒ **Cloudflare** ุง **Nginx Reverse Proxy** ุจุง ฺฏูุงู SSL ุงุณุชูุงุฏู ฺฉูุฏ.

### ฒ. ูพุดุชุจุงู ุงุฒ Fake TLS (ูุฎูโุณุงุฒ ุชุฑุงูฺฉ)
ุจุง ุงุถุงูู ฺฉุฑุฏู `--nat-info` ู ุชูุธู DNS.

### ณ. ฺูุฏ ูพุฑูฺฉุณ ุฑู ฺฉ ุณุฑูุฑ
ุจุง ูพูุฑุชโูุง ูุฎุชูู (443, 8443, ...) ู Secret ุฌุฏุงฺฏุงูู.

### ด. ุจฺฉุงูพโฺฏุฑ ุงุฒ Secretูุง
```bash
cp proxy-secret proxy-multi.conf /root/mtproxy-backup/
```

### ต. ุงุณฺฉุฑูพุช ูุตุจ ุฎูุฏฺฉุงุฑ (ุงุฎุชุตุงุต)
ูุงู `install.sh` ุจุณุงุฒุฏ:
```bash
#!/bin/bash
apt update && apt upgrade -y
apt install git curl build-essential libssl-dev zlib1g-dev ufw -y
cd /opt
git clone https://github.com/TelegramMessenger/MTProxy.git
cd MTProxy
make
head -c 16 /dev/urandom | xxd -ps > /opt/MTProxy/secret.txt
ufw allow 443/tcp
ufw allow 22/tcp
ufw enable
echo "ูพุฑูฺฉุณ ุขูุงุฏู ุงุณุช! Secret: $(cat secret.txt)"
```

ุงุฌุฑุง:
```bash
chmod +x install.sh
./install.sh
```

---

## ูุชุฌูโฺฏุฑ

ุดูุง ุญุงูุง ฺฉ **ูพุฑูฺฉุณ MTProto ุงุฎุชุตุงุตุ ุงููุ ุจุง ุงุณูพุงูุณุฑ ู ูุงูุชูุฑูฺฏ** ุฏุงุฑุฏ ฺฉู ูโุชูุงูุฏ ุขู ุฑุง ุฏุฑ ฺฏุชโูุงุจุ ฺฉุงูุงู ุชูฺฏุฑุงู ุง ูุจุณุงุช ุฎูุฏ ููุชุดุฑ ฺฉูุฏ.

> **ููฺฉ ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ููููู**:
```
tg://proxy?server=1.2.3.4&port=443&secret=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6
```

---

## ููุงุจุน
- [ูุณุชูุฏุงุช ุฑุณู MTProto Proxy](https://github.com/TelegramMessenger/MTProxy)
- [ฺฉุงูุงู ุฑุณู ูพุฑูฺฉุณ ุชูฺฏุฑุงู](https://t.me/proxy)

---

**ุณุงุฎุชู ุดุฏู ุจุง โค๏ธ ุชูุณุท theesmaeil1 - ุจุฑุง ฺฏุชโูุงุจ**
```

---

### ูุญูู ุงุณุชูุงุฏู:
1. ุงู ูุญุชูุง ุฑุง ุฏุฑ ูุงู `README.md` ฺฉูพ ฺฉูุฏ.
2. ุฏุฑ ฺฏุชโูุงุจ ฺฉ ุฑูพุงุฒุชูุฑ ุจุณุงุฒุฏ.
3. ูุงู ุฑุง ุขูพููุฏ ฺฉูุฏ.
4. ููฺฉ ูพุฑูฺฉุณ ุฑุง ุฏุฑ ุชูุถุญุงุช ุฑูพุงุฒุชูุฑ ูุฑุงุฑ ุฏูุฏ.

ุงฺฏุฑ ูุงุฒ ุจู **ูุณุฎู ุงูฺฏูุณ**ุ **ุงุณฺฉุฑูพุช ูุตุจ ุฎูุฏฺฉุงุฑ** ุง **ูุจ ูพูู ูุฏุฑุช** ุฏุงุดุชุ ุจฺฏู ุชุง ุจุฑุงุช ุงุถุงูู ฺฉูู.  
ูููู ุจุงุด! ๐
```
